<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../paper-radio-group/paper-radio-group.html">
<link rel="import" href="../../paper-radio-button/paper-radio-button.html">
<link rel="import" href="../behaviors/base-behavior.html">
<link rel="import" href="h2-widget-base.html">
<dom-module id="h2-radio-group">
    <template>
        <label>[[fieldMeta.label]]:</label>
        <paper-radio-group id="radioGroup"
                           aria-labelledby="radioGroup"
                           selected="{{ value }}"
                           attr-for-selected="name">
            <template is="dom-repeat"
                      items="{{ getValueByKey(context, fieldMeta.itemsField, '[]') }}"
                      as="radioItem">
                <paper-radio-button name="[[ getValueByKey(radioItem,fieldMeta.valueField) ]]">
                    [[ getValueByKey(radioItem, fieldMeta.displayField) ]]
                </paper-radio-button>
            </template>
        </paper-radio-group>
    </template>
    <script>
        class H2RadioGroup extends Polymer.mixinBehaviors([BaseBehavior], H2WidgetBase) {
          static get is() {
            return "h2-radio-group";
          }

          validate() {
            //return this.$.radioGroup.validate();
              return true;
          }

          reset() {
            this.value = undefined;
          }

        }
        customElements.define(H2RadioGroup.is, H2RadioGroup);
    </script>
</dom-module>