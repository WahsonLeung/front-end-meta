<script>
  CrudBehavior = {

    query(url, param, succCallback,failCallback){
      const req = new Request(window.location.origin + url, {
        method: "GET",
        body: JSON.stringify(param)
      });

    },
    update(url, param, succCallback,failCallback) {

      const req = new Request(window.location.origin + url, {
        method: "POST",
        body: JSON.stringify(param)
      });

      fetch(req).then(response => {
        if(response.ok) {
          response.json().then(data => {
            succCallback && succCallback(data);
          });
        } else {
          failCallback && failCallback();
        }

      }).catch(err => {
        console.error(err);
      })
    }
  }
</script>